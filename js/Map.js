// 地图类
function Map(game){
    // 自己的中介者
    this.game = game;
    this.code =[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
                [1,3,1,1,2,2,2,1,1,1,1,1,2,1,2,2,2,1],
                [1,2,2,1,2,2,2,2,2,1,2,2,2,1,2,2,2,1],
                [1,2,2,1,1,1,2,1,2,1,2,2,2,1,2,2,2,1],
                [1,2,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,1],
                [1,2,1,1,1,1,1,1,2,1,2,2,2,1,1,1,2,1],
                [1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,1],
                [1,2,2,2,2,2,2,1,2,2,1,1,1,1,1,2,2,1],
                [1,2,1,1,1,1,2,1,2,2,2,2,2,2,1,2,2,1],
                [1,2,2,2,2,1,2,1,1,1,1,2,2,2,1,2,2,1],
                [1,2,2,2,2,1,2,2,2,2,2,2,2,2,1,2,2,1],
                [1,2,1,1,1,1,2,2,1,2,1,1,1,1,1,2,2,1],
                [1,2,1,2,2,2,2,2,1,2,1,2,2,2,2,2,2,1],
                [1,2,1,2,2,2,2,2,1,2,1,2,2,2,2,2,2,1],
                [1,2,1,1,1,1,2,2,1,2,1,1,1,1,1,2,2,1],
                [1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,1],
                [1,2,2,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1],
                [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
                [1,1,1,1,1,1,2,2,2,1,1,1,1,2,2,2,2,1],
                [1,2,2,2,2,1,2,2,2,2,2,2,1,1,1,1,2,1],
                [1,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1,2,1],
                [1,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,1],
                [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
                [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]
}
// 更新
Map.prototype.update = function(){

}
// 渲染
Map.prototype.render = function(){
    // 渲染比较复杂，要根据自己的二维数组渲染
    for(var i = 0 ; i < 25 ; i++){
        for(var j = 0 ; j < 18 ; j++){
            // 得到这个小格的数字
            var c = this.code[i][j];
            // 如果不是0，因为0表示没有东西
            if(c != 0){
                this.game.ctx.drawImage(this.game.R[this.code[i][j] + ".png"], j * 24, i * 24, 24, 24)
            }
        }
    }
}